<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Undangan Komuni Pertama - Moses Prodigio Pajar</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Google Fonts: Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet"/>
  
  <!-- Font Awesome for Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"/>
  
  <!-- File CSS Khusus -->
  <link rel="stylesheet" href="style.css">
</head>

<body class="bg-gray-50 text-gray-800">

  <!-- ================= MODAL ALERT ================= -->
  <div class="modal" id="myModal">
    <div class="modal-content">
      <span class="close-button" onclick="closeModal()">×</span>
      <p class="text-lg font-medium text-gray-800" id="modalMessage"></p>
      <button class="mt-4 px-6 py-2 bg-sage-green text-white rounded-full hover:bg-opacity-90 transition-colors" onclick="closeModal()">OK</button>
    </div>
  </div>

  <!-- ================= NAVBAR ================= -->
  <nav class="fixed top-0 left-0 right-0 bg-white bg-opacity-90 shadow-lg z-50 p-4 transition-all duration-300 ease-in-out">
    <div class="container mx-auto flex justify-between items-center px-4">
      <a href="#hero" class="text-xl font-bold text-sage-green-dark hover:text-sage-green transition-colors">Moses</a>
      <div class="hidden md:flex space-x-6">
        <a href="#acara" class="text-gray-700 hover:text-sage-green transition-colors">Acara</a>
        <a href="#cerita" class="text-gray-700 hover:text-sage-green transition-colors">Cerita</a>
        <a href="#galeri" class="text-gray-700 hover:text-sage-green transition-colors">Galeri</a>
        <a href="#ucapan" class="text-gray-700 hover:text-sage-green transition-colors">Ucapan</a>
      </div>
      <button id="menu-button" class="md:hidden text-gray-700 focus:outline-none">
        <i class="fas fa-bars text-xl"></i>
      </button>
    </div>
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden mt-4 space-y-2 px-4 pb-2">
      <a href="#acara" class="block text-gray-700 hover:text-sage-green transition-colors py-2">Acara</a>
      <a href="#cerita" class="block text-gray-700 hover:text-sage-green transition-colors py-2">Cerita</a>
      <a href="#galeri" class="block text-gray-700 hover:text-sage-green transition-colors py-2">Galeri</a>
      <a href="#ucapan" class="block text-gray-700 hover:text-sage-green transition-colors py-2">Ucapan</a>
    </div>
  </nav>

  <!-- ================= HERO SECTION ================= -->
  <section id="hero" class="relative h-screen flex items-center justify-center text-white text-center parallax-bg" style="background-image: url('bg-hero.jpg'); background-size: cover; background-position: center;">
    <div class="absolute inset-0 bg-black/50"></div>
    <div class="relative z-10 p-6 max-w-2xl mx-auto fade-in">
      <h1 class="text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg">Undangan Komuni Pertama</h1>
      <p class="text-2xl md:text-4xl font-semibold mb-6 drop-shadow-lg">Moses Prodigio Pajar</p>
      <p class="text-lg md:text-xl mb-8 drop-shadow-lg">"Akulah Roti Hidup"</p>
      <button id="open-music-modal" class="px-8 py-3 bg-white text-sage-green-dark rounded-full text-lg font-semibold shadow-lg hover:bg-gray-100 transition-all duration-300 ease-in-out transform hover:scale-105">
        <i class="fas fa-music mr-2"></i> Putar Musik
      </button>

      <!-- Nama Tamu -->
      <div id="guestNameWrapper" class="mt-8 flex justify-center">
        <div class="border-4 border-yellow-600 rounded-2xl bg-white bg-opacity-80 px-6 py-4 shadow-lg">
          <p id="guestNameDisplay" class="text-xl md:text-2xl font-semibold text-gray-800 text-center"></p>
        </div>
      </div>
    </div>
  </section>

  <!-- =============== (LANJUTAN: Countdown, Acara, Cerita, Galeri, RSVP, Ucapan, Footer) =============== -->
  <!-- kode bagian lain tetap sama, hanya typo .jp → .jpg sudah diperbaiki -->

  <!-- ================= MUSIC MODAL ================= -->
  <div class="modal" id="musicModal">
    <div class="modal-content">
      <span class="close-button" onclick="window.closeMusicModal()">×</span>
      <h3 class="text-xl font-bold mb-4 text-sage-green-dark">Musik Latar</h3>
      <p class="text-gray-700 mb-4">Musik diputar otomatis, tapi mungkin <b>mute</b>. Klik tombol untuk mengatur suara.</p>
      <audio id="backgroundMusic" autoplay loop muted>
        <source src="instrumen.mp3" type="audio/mpeg"/>
        Browser Anda tidak mendukung audio.
      </audio>
      <button id="unmuteButton" class="mt-4 px-6 py-2 bg-sage-green text-white rounded-full hover:bg-opacity-90 transition-colors">
        <i class="fas fa-volume-up mr-2"></i> Aktifkan Suara
      </button>
    </div>
  </div>

  <!-- ================= SCRIPT TAMU ================= -->
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const guestName = urlParams.get('tamu');
    if (guestName) {
      document.getElementById("guestNameDisplay").textContent = `Kepada Yth: ${guestName}`;
    }
  </script>

  <!-- ================= SCRIPT MUSIK ================= -->
  <script>
    const musicModal = document.getElementById('musicModal');
    const openMusicModalBtn = document.getElementById('open-music-modal');
    const backgroundMusic = document.getElementById('backgroundMusic');
    const unmuteButton = document.getElementById('unmuteButton');

    openMusicModalBtn.addEventListener('click', () => {
      musicModal.style.display = 'flex';
      backgroundMusic.play().catch(err => console.log("Autoplay dicegah:", err));
    });

    unmuteButton.addEventListener('click', () => {
      if (backgroundMusic.muted) {
        backgroundMusic.muted = false;
        backgroundMusic.play();
        unmuteButton.innerHTML = '<i class="fas fa-volume-mute mr-2"></i> Mute';
      } else {
        backgroundMusic.muted = true;
        unmuteButton.innerHTML = '<i class="fas fa-volume-up mr-2"></i> Aktifkan Suara';
      }
    });

    window.closeMusicModal = function() {
      musicModal.style.display = 'none';
    };
  </script>

</body>
</html>
